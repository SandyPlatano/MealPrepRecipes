@import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Work+Sans:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');
@import "tailwindcss";
@import "tw-animate-css";

/* ═══════════════════════════════════════════════════════════════════════════════
   RETRO DESIGN SYSTEM v2 - Neo-Brutalist Theme
   Clean, bold, playful design with hard shadows and warm colors
   ═══════════════════════════════════════════════════════════════════════════════ */

@theme {
  /* ─────────────────────────────────────────────────────────────────────────────
     Font Families
     ───────────────────────────────────────────────────────────────────────────── */
  --font-display: "Space Mono", monospace;
  --font-body: "Work Sans", sans-serif;
  --font-sans: "Work Sans", system-ui, sans-serif;
  --font-mono: "Space Mono", "JetBrains Mono", monospace;

  /* ─────────────────────────────────────────────────────────────────────────────
     Border Radius
     ───────────────────────────────────────────────────────────────────────────── */
  --radius: 0.5rem;
  --radius-lg: 1rem;
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  /* ─────────────────────────────────────────────────────────────────────────────
     Semantic Colors (Tailwind v4 / shadcn/ui)
     ───────────────────────────────────────────────────────────────────────────── */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-tertiary: #60A5FA;
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* Chart Colors */
  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  /* ─────────────────────────────────────────────────────────────────────────────
     Retro Palette (Direct Colors)
     ───────────────────────────────────────────────────────────────────────────── */
  --color-retro-primary: #F56565;
  --color-retro-secondary: #FBBF24;
  --color-retro-tertiary: #60A5FA;
  --color-retro-background-light: #FEF6E4;
  --color-retro-background-dark: #1F2937;
  --color-retro-surface-light: #FFFFFF;
  --color-retro-surface-dark: #374151;
  --color-retro-text-main: #111827;
  --color-retro-text-muted: #6B7280;

  /* ─────────────────────────────────────────────────────────────────────────────
     Retro Shadows (Hard offset - no blur)
     ───────────────────────────────────────────────────────────────────────────── */
  --shadow-retro: 4px 4px 0px 0px #000000;
  --shadow-retro-hover: 2px 2px 0px 0px #000000;
  --shadow-retro-active: 0px 0px 0px 0px #000000;
  --shadow-retro-sm: 3px 3px 0px 0px #000000;
  --shadow-retro-sm-hover: 1px 1px 0px 0px #000000;
  --shadow-retro-input: 4px 4px 0px 0px rgba(0,0,0,0.1);
  --shadow-retro-success: 4px 4px 0px 0px #064e3b;
  --shadow-retro-warning: 4px 4px 0px 0px #78350f;
  --shadow-retro-error: 4px 4px 0px 0px #7f1d1d;

  /* ─────────────────────────────────────────────────────────────────────────────
     Animations
     ───────────────────────────────────────────────────────────────────────────── */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-shimmer: shimmer 1.5s ease-in-out infinite;

  /* ─────────────────────────────────────────────────────────────────────────────
     Safe Area Spacing (Mobile)
     ───────────────────────────────────────────────────────────────────────────── */
  --spacing-safe: env(safe-area-inset-bottom);
  --spacing-safe-top: env(safe-area-inset-top);
  --spacing-safe-left: env(safe-area-inset-left);
  --spacing-safe-right: env(safe-area-inset-right);
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Animation Keyframes
   ═══════════════════════════════════════════════════════════════════════════════ */
@keyframes accordion-down {
  from { height: 0; }
  to { height: var(--radix-accordion-content-height); }
}

@keyframes accordion-up {
  from { height: var(--radix-accordion-content-height); }
  to { height: 0; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   shadcn/ui Semantic Token Values - Light Mode (Retro)
   ═══════════════════════════════════════════════════════════════════════════════ */
:root {
  --background: 47 77% 95%;          /* #FEF6E4 - warm cream */
  --foreground: 221 39% 11%;         /* #111827 - text-main */

  --card: 0 0% 100%;                 /* #FFFFFF - surface-light */
  --card-foreground: 221 39% 11%;   /* #111827 */

  --popover: 0 0% 100%;
  --popover-foreground: 221 39% 11%;

  --primary: 0 91% 71%;              /* #F56565 - retro red */
  --primary-foreground: 0 0% 100%;  /* white text on red */

  --secondary: 45 97% 56%;           /* #FBBF24 - retro yellow */
  --secondary-foreground: 0 0% 0%;  /* black text on yellow */

  --accent: 213 94% 68%;             /* #60A5FA - retro blue */
  --accent-foreground: 0 0% 100%;   /* white text on blue */

  --muted: 220 14% 96%;              /* #F3F4F6 */
  --muted-foreground: 220 9% 46%;   /* #6B7280 */

  --destructive: 0 84% 60%;          /* Red */
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 0%;                 /* #000000 - BLACK borders! */
  --input: 0 0% 0%;                  /* Black input borders */
  --ring: 0 91% 71%;                 /* Primary red for focus ring */

  /* Chart Colors */
  --chart-1: 0 91% 71%;              /* Primary red */
  --chart-2: 45 97% 56%;             /* Secondary yellow */
  --chart-3: 213 94% 68%;            /* Tertiary blue */
  --chart-4: 142 76% 36%;            /* Green */
  --chart-5: 262 83% 58%;            /* Purple */

  --radius: 0.5rem;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Dark Mode - Retro (Warm Dark)
   ═══════════════════════════════════════════════════════════════════════════════ */
.dark {
  --background: 220 26% 14%;         /* #1F2937 - background-dark */
  --foreground: 0 0% 100%;           /* White */

  --card: 218 17% 28%;               /* #374151 - surface-dark */
  --card-foreground: 0 0% 100%;

  --popover: 218 17% 28%;
  --popover-foreground: 0 0% 100%;

  --primary: 0 91% 71%;              /* #F56565 - same primary */
  --primary-foreground: 0 0% 100%;

  --secondary: 45 97% 56%;           /* #FBBF24 - same secondary */
  --secondary-foreground: 0 0% 0%;

  --accent: 213 94% 68%;             /* #60A5FA */
  --accent-foreground: 0 0% 100%;

  --muted: 217 19% 27%;              /* Dark gray */
  --muted-foreground: 215 14% 67%;  /* Light gray text */

  --destructive: 0 63% 31%;
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 100%;               /* WHITE borders in dark mode */
  --input: 0 0% 100%;
  --ring: 0 91% 71%;

  --chart-1: 0 91% 71%;
  --chart-2: 45 97% 56%;
  --chart-3: 213 94% 68%;
  --chart-4: 142 76% 36%;
  --chart-5: 262 83% 58%;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Base Layer - Typography & Body
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-body;
    @apply transition-colors duration-300;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-bold;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Custom Scrollbar - Retro Style
   ═══════════════════════════════════════════════════════════════════════════════ */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: #fef6e4;
  border-left: 2px solid #000;
}

::-webkit-scrollbar-thumb {
  background: #f56565;
  border: 2px solid #000;
  border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
  background: #e53e3e;
}

.dark::-webkit-scrollbar-track {
  background: #1f2937;
}

.dark::-webkit-scrollbar-thumb {
  background: #f56565;
  border-color: #fff;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Component Layer - Retro UI Components
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer components {
  /* ─────────────────────────────────────────────────────────────────────────────
     Retro Border - Core design element (use directly in HTML)
     ───────────────────────────────────────────────────────────────────────────── */
  .retro-border {
    @apply border-2 border-black dark:border-white;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Buttons - Inline all styles (Tailwind v4 @apply limitation)
     ───────────────────────────────────────────────────────────────────────────── */
  .btn-retro {
    @apply font-bold py-3 px-6 rounded-lg border-2 border-black dark:border-white;
    box-shadow: var(--shadow-retro);
    @apply hover:translate-x-[2px] hover:translate-y-[2px];
    @apply active:translate-x-[4px] active:translate-y-[4px];
    @apply transition-all duration-150;
  }

  .btn-retro:hover {
    box-shadow: var(--shadow-retro-hover);
  }

  .btn-retro:active {
    box-shadow: var(--shadow-retro-active);
  }

  .btn-primary {
    @apply font-bold py-3 px-6 rounded-lg border-2 border-black dark:border-white;
    @apply bg-primary text-white;
    box-shadow: var(--shadow-retro);
    @apply hover:translate-x-[2px] hover:translate-y-[2px] hover:brightness-110;
    @apply active:translate-x-[4px] active:translate-y-[4px] active:brightness-90;
    @apply transition-all duration-150;
  }

  .btn-primary:hover {
    box-shadow: var(--shadow-retro-hover);
  }

  .btn-primary:active {
    box-shadow: var(--shadow-retro-active);
  }

  .btn-secondary {
    @apply font-bold py-3 px-6 rounded-lg border-2 border-black dark:border-white;
    @apply bg-secondary text-black;
    box-shadow: var(--shadow-retro);
    @apply hover:translate-x-[2px] hover:translate-y-[2px] hover:bg-yellow-300;
    @apply active:translate-x-[4px] active:translate-y-[4px] active:bg-yellow-500;
    @apply transition-all duration-150;
  }

  .btn-secondary:hover {
    box-shadow: var(--shadow-retro-hover);
  }

  .btn-secondary:active {
    box-shadow: var(--shadow-retro-active);
  }

  .btn-tertiary {
    @apply font-bold py-3 px-6 rounded-lg border-2 border-black dark:border-white;
    @apply bg-accent text-white;
    box-shadow: var(--shadow-retro);
    @apply hover:translate-x-[2px] hover:translate-y-[2px] hover:brightness-110;
    @apply active:translate-x-[4px] active:translate-y-[4px] active:brightness-90;
    @apply transition-all duration-150;
  }

  .btn-tertiary:hover {
    box-shadow: var(--shadow-retro-hover);
  }

  .btn-tertiary:active {
    box-shadow: var(--shadow-retro-active);
  }

  .btn-ghost {
    @apply font-bold py-3 px-6 rounded-lg border-2 border-black dark:border-white;
    @apply bg-transparent;
    box-shadow: var(--shadow-retro);
    @apply hover:translate-x-[2px] hover:translate-y-[2px] hover:bg-gray-100 dark:hover:bg-gray-800;
    @apply active:translate-x-[4px] active:translate-y-[4px] active:bg-gray-200 dark:active:bg-gray-700;
    @apply transition-all duration-150;
  }

  .btn-ghost:hover {
    box-shadow: var(--shadow-retro-hover);
  }

  .btn-ghost:active {
    box-shadow: var(--shadow-retro-active);
  }

  .btn-icon {
    @apply p-3 rounded-full border-2 border-black dark:border-white;
    @apply bg-white dark:bg-gray-700;
    box-shadow: var(--shadow-retro);
    @apply hover:translate-x-[1px] hover:translate-y-[1px] hover:bg-gray-50;
    @apply active:translate-x-[2px] active:translate-y-[2px];
    @apply transition-all duration-150;
  }

  .btn-icon:hover {
    box-shadow: var(--shadow-retro-hover);
  }

  .btn-icon:active {
    box-shadow: var(--shadow-retro-active);
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Cards
     ───────────────────────────────────────────────────────────────────────────── */
  .card-retro {
    @apply bg-card rounded-xl p-6 border-2 border-black dark:border-white;
    box-shadow: var(--shadow-retro);
  }

  .card-accent {
    @apply bg-secondary rounded-xl p-6 border-2 border-black dark:border-white;
    box-shadow: var(--shadow-retro);
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Inputs - with yellow focus states
     ───────────────────────────────────────────────────────────────────────────── */
  .input-retro {
    @apply w-full bg-white dark:bg-gray-800 rounded-lg py-3 px-4;
    @apply border-2 border-black dark:border-white;
    box-shadow: var(--shadow-retro-input);
    @apply focus:bg-yellow-50 dark:focus:bg-gray-900;
    @apply focus:border-primary focus:outline-none;
    @apply transition-all duration-150;
    @apply placeholder-gray-400;
  }

  .input-retro:focus {
    box-shadow: var(--shadow-retro);
  }

  .select-retro {
    @apply w-full bg-white dark:bg-gray-800 rounded-lg py-3 px-4;
    @apply border-2 border-black dark:border-white;
    @apply appearance-none cursor-pointer;
    box-shadow: var(--shadow-retro-input);
    @apply focus:bg-yellow-50 dark:focus:bg-gray-900;
    @apply focus:border-primary focus:outline-none;
    @apply transition-all duration-150;
  }

  .label-retro {
    @apply font-bold text-sm uppercase tracking-wide;
  }

  /* Search input (left side of combo) */
  .input-search-left {
    @apply w-full bg-white dark:bg-gray-800;
    @apply border-2 border-black dark:border-white border-r-0 rounded-l-lg py-3 px-4;
    @apply focus:bg-yellow-50 dark:focus:bg-gray-900;
    @apply focus:shadow-[inset_2px_2px_0px_rgba(0,0,0,0.05)] focus:outline-none;
    @apply transition-colors;
  }

  /* Search button (right side of combo) */
  .btn-search-right {
    @apply bg-secondary text-black font-bold px-6;
    @apply rounded-r-lg border-2 border-black dark:border-white border-l-2;
    @apply hover:bg-yellow-300 hover:shadow-inner;
    @apply active:bg-yellow-500;
    @apply transition-all;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Icons
     ───────────────────────────────────────────────────────────────────────────── */
  .icon-retro {
    @apply w-12 h-12 flex items-center justify-center;
    @apply bg-white dark:bg-gray-700 border-2 border-black dark:border-white rounded-lg;
    box-shadow: var(--shadow-retro-sm);
    @apply group-hover:translate-x-[1px] group-hover:translate-y-[1px];
    @apply group-active:translate-x-[3px] group-active:translate-y-[3px] group-active:shadow-none;
    @apply transition-all;
  }

  .icon-retro:hover {
    box-shadow: var(--shadow-retro-sm-hover);
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Badges & Tags
     ───────────────────────────────────────────────────────────────────────────── */
  .badge-retro {
    @apply inline-block px-2 py-1;
    @apply text-xs font-bold;
    @apply border-2 border-black dark:border-white rounded;
  }

  .badge-new {
    @apply inline-block px-2 py-1 text-xs font-bold;
    @apply border-2 border-black dark:border-white rounded;
    @apply bg-secondary text-black;
  }

  .badge-success {
    @apply inline-block px-2 py-1 text-xs font-bold;
    @apply border-2 border-black dark:border-white rounded;
    @apply bg-green-200 text-green-800;
    @apply dark:bg-green-900 dark:text-green-100;
  }

  .badge-info {
    @apply inline-block px-2 py-1 text-xs font-bold;
    @apply border-2 border-black dark:border-white rounded;
    @apply bg-blue-200 text-blue-800;
    @apply dark:bg-blue-900 dark:text-blue-100;
  }

  .badge-warning {
    @apply inline-block px-2 py-1 text-xs font-bold;
    @apply border-2 border-black dark:border-white rounded;
    @apply bg-yellow-200 text-yellow-800;
    @apply dark:bg-yellow-900 dark:text-yellow-100;
  }

  .badge-error {
    @apply inline-block px-2 py-1 text-xs font-bold;
    @apply border-2 border-black dark:border-white rounded;
    @apply bg-red-200 text-red-800;
    @apply dark:bg-red-900 dark:text-red-100;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Alerts
     ───────────────────────────────────────────────────────────────────────────── */
  .alert-retro {
    @apply p-4 rounded-lg border-2 border-black dark:border-white flex items-start gap-3;
  }

  .alert-success {
    @apply p-4 rounded-lg border-2 border-black dark:border-white flex items-start gap-3;
    @apply bg-green-100 text-green-900;
    box-shadow: var(--shadow-retro-success);
    @apply dark:bg-green-900 dark:text-green-100;
  }

  .alert-warning {
    @apply p-4 rounded-lg border-2 border-black dark:border-white flex items-start gap-3;
    @apply bg-yellow-100 text-yellow-900;
    box-shadow: var(--shadow-retro-warning);
    @apply dark:bg-yellow-900 dark:text-yellow-100;
  }

  .alert-error {
    @apply p-4 rounded-lg border-2 border-black dark:border-white flex items-start gap-3;
    @apply bg-red-100 text-red-900;
    box-shadow: var(--shadow-retro-error);
    @apply dark:bg-red-900 dark:text-red-100;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Navigation - Pills/Tabs
     ───────────────────────────────────────────────────────────────────────────── */
  .pill-retro {
    @apply px-4 py-2 rounded-lg border-2 border-black dark:border-white text-sm font-bold;
    @apply bg-white dark:bg-gray-800;
    @apply hover:bg-gray-100 dark:hover:bg-gray-700;
    @apply hover:-translate-y-0.5;
    @apply transition-all;
  }

  .pill-active {
    @apply px-4 py-2 rounded-lg border-2 border-black dark:border-white text-sm font-bold;
    @apply bg-primary text-white;
    box-shadow: var(--shadow-retro-hover);
    @apply hover:brightness-110;
    @apply active:translate-y-[2px];
    @apply transition-all;
  }

  .pill-active:active {
    box-shadow: var(--shadow-retro-active);
  }

  .breadcrumb-retro {
    @apply flex items-center text-sm font-mono;
    @apply bg-white dark:bg-gray-800 border-2 border-black dark:border-white;
    @apply inline-flex px-4 py-2 rounded-full;
    box-shadow: 2px 2px 0px 0px #000;
  }

  .breadcrumb-link {
    @apply hover:underline hover:text-primary transition-colors;
  }

  .breadcrumb-current {
    @apply font-bold text-primary;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Progress Bar
     ───────────────────────────────────────────────────────────────────────────── */
  .progress-retro {
    @apply w-full h-6 bg-gray-200 dark:bg-gray-700;
    @apply border-2 border-black dark:border-white rounded-full overflow-hidden relative;
  }

  .progress-retro-bar {
    @apply h-full bg-secondary absolute top-0 left-0;
    @apply border-r-2 border-black;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Data Viz - Bar Chart
     ───────────────────────────────────────────────────────────────────────────── */
  .bar-retro {
    @apply border-2 border-black dark:border-white border-b-0 rounded-t-sm;
    @apply transition-all cursor-pointer;
  }

  .bar-primary {
    @apply border-2 border-black dark:border-white border-b-0 rounded-t-sm;
    @apply transition-all cursor-pointer;
    @apply bg-primary hover:bg-red-400;
  }

  .bar-secondary {
    @apply border-2 border-black dark:border-white border-b-0 rounded-t-sm;
    @apply transition-all cursor-pointer;
    @apply bg-secondary hover:bg-yellow-300;
  }

  .bar-tertiary {
    @apply border-2 border-black dark:border-white border-b-0 rounded-t-sm;
    @apply transition-all cursor-pointer;
    @apply bg-accent hover:bg-blue-300;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Utility Layer
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer utilities {
  /* Retro striped pattern overlay */
  .retro-stripes {
    background-image: repeating-linear-gradient(
      45deg,
      #000 0,
      #000 1px,
      transparent 0,
      transparent 50%
    );
    background-size: 10px 10px;
    opacity: 0.1;
  }

  /* Grid lines for charts */
  .chart-grid {
    background-image: linear-gradient(#00000010 1px, transparent 1px);
    background-size: 100% 20%;
  }

  /* Text selection */
  ::selection {
    @apply bg-secondary text-black;
  }

  /* Focus visible for accessibility */
  .focus-visible-retro:focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   shadcn/ui Component Overrides (Tailwind v4)
   These ensure shadcn components work with our retro theme
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Ensure proper border inheritance */
[data-slot="card"] {
  @apply border-2;
}

/* Button base - inherits our retro styling automatically via CSS vars */

/* Dialog/Sheet overlay */
[data-slot="dialog-overlay"],
[data-slot="sheet-overlay"] {
  @apply bg-black/50 backdrop-blur-sm;
}
