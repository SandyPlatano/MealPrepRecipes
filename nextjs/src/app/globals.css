@import "tailwindcss";
@import "tw-animate-css";

/* ═══════════════════════════════════════════════════════════════════════════════
   BWFD BRAND SYSTEM - Pale Lilac Theme
   Warm, editorial, high-contrast design
   ═══════════════════════════════════════════════════════════════════════════════ */

@theme {
  /* ─────────────────────────────────────────────────────────────────────────────
     Font Families (loaded via next/font in layout.tsx)
     ───────────────────────────────────────────────────────────────────────────── */
  --font-primary: var(--font-primary), "Manrope", sans-serif;
  --font-script: var(--font-script), "Caveat", cursive;
  --font-serif: var(--font-serif), "Cormorant Garamond", serif;
  --font-sans: var(--font-primary), system-ui, sans-serif;

  /* ─────────────────────────────────────────────────────────────────────────────
     Brand Colors
     ───────────────────────────────────────────────────────────────────────────── */
  --color-ivory: #FFFCF9;
  --color-pale-lilac: #DDC3E0;
  --color-pale-lilac-light: #EBD9ED;
  --color-pale-lilac-dark: #C9A8CD;
  --color-chestnut: #7D4A5A;
  --color-black: #000000;
  --color-white: #FFFFFF;

  /* Gray Scale */
  --color-gray-100: #F7F5F6;
  --color-gray-200: #E8E4E8;
  --color-gray-300: #D1CCD1;
  --color-gray-400: #9E979E;
  --color-gray-500: #6B636B;

  /* Semantic Colors */
  --color-success: #2D5A2D;
  --color-success-light: #E8F0E8;
  --color-warning: #5A4A2D;
  --color-warning-light: #FDF5ED;
  --color-error: #5A2D2D;
  --color-error-light: #FDEDED;

  /* Cook Assignment Colors */
  --color-cook-1: #000000;
  --color-cook-2: #4A7C59;
  --color-cook-3: #8B6914;
  --color-cook-4: #2E5984;
  --color-cook-5: #6B4A7C;

  /* ─────────────────────────────────────────────────────────────────────────────
     Border Radius
     ───────────────────────────────────────────────────────────────────────────── */
  --radius: 0.5rem;
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;

  /* ─────────────────────────────────────────────────────────────────────────────
     Shadows (Soft blur - editorial style)
     ───────────────────────────────────────────────────────────────────────────── */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);

  /* ─────────────────────────────────────────────────────────────────────────────
     Semantic Colors (Tailwind v4 / shadcn/ui)
     ───────────────────────────────────────────────────────────────────────────── */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* Chart Colors */
  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  /* ─────────────────────────────────────────────────────────────────────────────
     Transitions
     ───────────────────────────────────────────────────────────────────────────── */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;

  /* ─────────────────────────────────────────────────────────────────────────────
     Animations
     ───────────────────────────────────────────────────────────────────────────── */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-shimmer: shimmer 1.5s ease-in-out infinite;

  /* ─────────────────────────────────────────────────────────────────────────────
     Safe Area Spacing (Mobile)
     ───────────────────────────────────────────────────────────────────────────── */
  --spacing-safe: env(safe-area-inset-bottom);
  --spacing-safe-top: env(safe-area-inset-top);
  --spacing-safe-left: env(safe-area-inset-left);
  --spacing-safe-right: env(safe-area-inset-right);
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Animation Keyframes
   ═══════════════════════════════════════════════════════════════════════════════ */
@keyframes accordion-down {
  from { height: 0; }
  to { height: var(--radix-accordion-content-height); }
}

@keyframes accordion-up {
  from { height: var(--radix-accordion-content-height); }
  to { height: 0; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   shadcn/ui Semantic Token Values - Pale Lilac Brand
   ═══════════════════════════════════════════════════════════════════════════════ */
:root {
  /* Backgrounds */
  --background: 40 100% 99%;           /* #FFFCF9 - ivory */
  --foreground: 0 0% 0%;               /* #000000 - black text */

  /* Cards */
  --card: 0 0% 100%;                   /* #FFFFFF - white */
  --card-foreground: 0 0% 0%;          /* #000000 */

  /* Popovers */
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;

  /* Primary - Black (for buttons, emphasis) */
  --primary: 0 0% 0%;                  /* #000000 */
  --primary-foreground: 0 0% 100%;     /* #FFFFFF */

  /* Secondary - Pale Lilac (accent) */
  --secondary: 296 32% 82%;            /* #DDC3E0 */
  --secondary-foreground: 0 0% 0%;     /* #000000 */

  /* Accent - Same as secondary */
  --accent: 296 32% 82%;               /* #DDC3E0 */
  --accent-foreground: 0 0% 0%;        /* #000000 */

  /* Muted */
  --muted: 330 6% 97%;                 /* #F7F5F6 - gray-100 */
  --muted-foreground: 330 4% 42%;      /* #6B636B - gray-500 */

  /* Destructive */
  --destructive: 0 35% 27%;            /* #5A2D2D */
  --destructive-foreground: 0 0% 100%;

  /* Borders & Inputs */
  --border: 330 6% 91%;                /* #E8E4E8 - gray-200 */
  --input: 330 6% 91%;                 /* #E8E4E8 - gray-200 */
  --ring: 0 0% 0%;                     /* #000000 - black focus ring */

  /* Chart Colors */
  --chart-1: 0 0% 0%;                  /* Black */
  --chart-2: 296 32% 82%;              /* Pale Lilac */
  --chart-3: 138 27% 39%;              /* Forest (cook-2) */
  --chart-4: 40 75% 31%;               /* Amber (cook-3) */
  --chart-5: 341 26% 39%;              /* Chestnut */

  --radius: 0.75rem;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Base Layer - Typography & Body
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-ivory text-black font-primary;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-primary font-bold text-black;
  }

  /* Script accent class for decorative text */
  .script {
    font-family: var(--font-script);
  }

  /* Serif class for optional recipe titles */
  .serif {
    font-family: var(--font-serif);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Custom Scrollbar - Brand Style
   ═══════════════════════════════════════════════════════════════════════════════ */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--color-ivory);
}

::-webkit-scrollbar-thumb {
  background: var(--color-gray-300);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-gray-400);
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Component Layer - Brand UI Components
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer components {
  /* ─────────────────────────────────────────────────────────────────────────────
     Buttons
     ───────────────────────────────────────────────────────────────────────────── */
  .btn-primary {
    @apply font-primary font-semibold py-3 px-6 rounded-lg;
    @apply transition-all duration-200;
    @apply bg-black text-white;
    @apply hover:bg-gray-800;
    @apply active:bg-gray-900;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  .btn-secondary {
    @apply font-primary font-semibold py-3 px-6 rounded-lg;
    @apply transition-all duration-200;
    @apply bg-pale-lilac text-black;
    @apply hover:bg-pale-lilac-light;
    @apply active:bg-pale-lilac-dark;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  .btn-outline {
    @apply font-primary font-semibold py-3 px-6 rounded-lg;
    @apply transition-all duration-200;
    @apply bg-transparent text-black border-2 border-black;
    @apply hover:bg-gray-100;
    @apply active:bg-gray-200;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  .btn-ghost {
    @apply font-primary font-semibold py-3 px-6 rounded-lg;
    @apply transition-all duration-200;
    @apply bg-transparent text-black;
    @apply hover:bg-gray-100;
    @apply active:bg-gray-200;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  .btn-icon {
    @apply p-3 rounded-lg;
    @apply transition-all duration-200;
    @apply hover:bg-gray-100;
    @apply active:bg-gray-200;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  .btn-icon-primary {
    @apply p-3 rounded-lg;
    @apply transition-all duration-200;
    @apply bg-black text-white;
    @apply hover:bg-gray-800;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  .btn-icon-secondary {
    @apply p-3 rounded-lg;
    @apply transition-all duration-200;
    @apply bg-pale-lilac text-black;
    @apply hover:bg-pale-lilac-light;
    @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Cards
     ───────────────────────────────────────────────────────────────────────────── */
  .card {
    @apply bg-white rounded-xl p-6 border border-gray-200;
    box-shadow: var(--shadow-sm);
  }

  .card-interactive {
    @apply bg-white rounded-xl p-6 border border-gray-200 cursor-pointer;
    @apply transition-all duration-200;
    @apply hover:-translate-y-0.5;
    box-shadow: var(--shadow-sm);
  }

  .card-interactive:hover {
    box-shadow: var(--shadow-lg);
  }

  .card-ivory {
    @apply bg-ivory rounded-xl p-6 border border-gray-200;
    box-shadow: var(--shadow-sm);
  }

  .card-accent {
    @apply bg-pale-lilac-light rounded-xl p-6;
    @apply transition-all duration-200;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Form Inputs
     ───────────────────────────────────────────────────────────────────────────── */
  .form-input {
    @apply w-full bg-white rounded-lg py-3 px-4;
    @apply border-2 border-gray-200;
    @apply text-black placeholder-gray-400;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-black;
    box-shadow: 0 0 0 0 var(--color-pale-lilac-light);
  }

  .form-input:focus {
    box-shadow: 0 0 0 3px var(--color-pale-lilac-light);
  }

  .form-select {
    @apply w-full bg-white rounded-lg py-3 px-4;
    @apply border-2 border-gray-200;
    @apply text-black;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-black;
    @apply appearance-none cursor-pointer;
    box-shadow: 0 0 0 0 var(--color-pale-lilac-light);
  }

  .form-select:focus {
    box-shadow: 0 0 0 3px var(--color-pale-lilac-light);
  }

  .form-label {
    @apply font-semibold text-sm text-black mb-1.5 block;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Badges
     ───────────────────────────────────────────────────────────────────────────── */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
  }

  .badge-primary {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    @apply bg-black text-white;
  }

  .badge-secondary {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    @apply bg-pale-lilac text-black;
  }

  .badge-outline {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    @apply bg-transparent text-black border border-black;
  }

  .badge-success {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    @apply bg-success-light text-success;
  }

  .badge-warning {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    @apply bg-warning-light text-warning;
  }

  .badge-error {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    @apply bg-error-light text-error;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Alerts
     ───────────────────────────────────────────────────────────────────────────── */
  .alert {
    @apply p-4 rounded-xl flex items-start gap-3;
  }

  .alert-success {
    @apply p-4 rounded-xl flex items-start gap-3;
    @apply bg-success-light text-success border border-success/20;
  }

  .alert-warning {
    @apply p-4 rounded-xl flex items-start gap-3;
    @apply bg-warning-light text-warning border border-warning/20;
  }

  .alert-error {
    @apply p-4 rounded-xl flex items-start gap-3;
    @apply bg-error-light text-error border border-error/20;
  }

  .alert-info {
    @apply p-4 rounded-xl flex items-start gap-3;
    @apply bg-pale-lilac-light text-black border border-pale-lilac/20;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Cook Avatars
     ───────────────────────────────────────────────────────────────────────────── */
  .avatar-cook {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply text-sm font-bold text-white;
  }

  .avatar-cook-1 {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply text-sm font-bold text-white;
    background-color: var(--color-cook-1);
  }

  .avatar-cook-2 {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply text-sm font-bold text-white;
    background-color: var(--color-cook-2);
  }

  .avatar-cook-3 {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply text-sm font-bold text-white;
    background-color: var(--color-cook-3);
  }

  .avatar-cook-4 {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply text-sm font-bold text-white;
    background-color: var(--color-cook-4);
  }

  .avatar-cook-5 {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply text-sm font-bold text-white;
    background-color: var(--color-cook-5);
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Navigation - Pills/Tabs
     ───────────────────────────────────────────────────────────────────────────── */
  .pill {
    @apply px-4 py-2 rounded-full text-sm font-medium;
    @apply transition-all duration-200;
  }

  .pill-default {
    @apply px-4 py-2 rounded-full text-sm font-medium;
    @apply transition-all duration-200;
    @apply bg-white text-gray-500 border border-gray-200;
    @apply hover:bg-gray-50 hover:text-black;
  }

  .pill-active {
    @apply px-4 py-2 rounded-full text-sm font-medium;
    @apply transition-all duration-200;
    @apply bg-black text-white;
  }

  .tab {
    @apply px-4 py-2 text-sm font-medium text-gray-500;
    @apply border-b-2 border-transparent;
    @apply transition-all duration-200;
    @apply hover:text-black hover:border-gray-200;
  }

  .tab-active {
    @apply px-4 py-2 text-sm font-medium;
    @apply border-b-2 border-black text-black;
    @apply transition-all duration-200;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Meal Slots (for meal planning)
     ───────────────────────────────────────────────────────────────────────────── */
  .meal-slot {
    @apply bg-ivory rounded-xl p-4;
    @apply border-2 border-dashed border-gray-200;
    @apply transition-all duration-200;
  }

  .meal-slot:hover {
    @apply border-pale-lilac-dark bg-pale-lilac-light;
  }

  .meal-slot-filled {
    @apply bg-white rounded-xl p-4;
    @apply border-2 border-solid border-gray-200;
    @apply transition-all duration-200;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Progress Bar
     ───────────────────────────────────────────────────────────────────────────── */
  .progress {
    @apply w-full h-2 bg-gray-200 rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply h-full bg-black rounded-full;
    @apply transition-all duration-300;
  }

  .progress-bar-secondary {
    @apply h-full bg-pale-lilac rounded-full;
    @apply transition-all duration-300;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Toggle/Switch
     ───────────────────────────────────────────────────────────────────────────── */
  .toggle {
    @apply relative w-12 h-7 bg-gray-200 rounded-full;
    @apply transition-all duration-200;
  }

  .toggle-active {
    @apply relative w-12 h-7 bg-black rounded-full;
    @apply transition-all duration-200;
  }

  .toggle-thumb {
    @apply absolute top-1 left-1 w-5 h-5 bg-white rounded-full;
    @apply transition-all duration-200;
    box-shadow: var(--shadow-sm);
  }

  .toggle-active .toggle-thumb {
    @apply left-6;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Dividers
     ───────────────────────────────────────────────────────────────────────────── */
  .divider {
    @apply w-full h-px bg-gray-200;
  }

  .divider-vertical {
    @apply w-px h-full bg-gray-200;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Utility Layer
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer utilities {
  /* Text selection */
  ::selection {
    @apply bg-pale-lilac text-black;
  }

  /* Focus visible for accessibility */
  .focus-visible-ring:focus-visible {
    @apply outline-none ring-2 ring-black ring-offset-2;
  }

  /* Illustration color (Chestnut only) */
  .illustration {
    color: var(--color-chestnut);
    stroke: var(--color-chestnut);
  }

  /* Script accent text */
  .text-script {
    font-family: var(--font-script);
  }

  /* Serif text */
  .text-serif {
    font-family: var(--font-serif);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   shadcn/ui Component Overrides
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Ensure proper border inheritance */
[data-slot="card"] {
  @apply border;
}

/* Dialog/Sheet overlay */
[data-slot="dialog-overlay"],
[data-slot="sheet-overlay"] {
  @apply bg-black/40 backdrop-blur-sm;
}
